version: 1.0
provider:
  name: openfaas
  gateway: http://34.118.254.31:8080
functions:
  hello:
    lang: python3-http
    handler: ./hello
    image: europe-west1-docker.pkg.dev/firm-reason-462012-p9/functions/hello:latest

  generate-password:
    lang: python3-http
    handler: ./generate-password
    image: europe-west1-docker.pkg.dev/firm-reason-462012-p9/functions/generate-password:latest
    secrets:
      - database-mdp
    annotations:
      com.openfaas.serviceaccount: ksa-cloudsql
    limits:
      memory: 128Mi
      cpu: 100m
    requests:
      memory: 64Mi
      cpu: 50m
